<template>
    <lightning-card title="Task Management" icon-name="standard:task">

        <lightning-button-group>
            <lightning-button label="New" onclick={createTask}></lightning-button>
            <lightning-button label="Complete" onclick={markComplete} variant="success"></lightning-button>
            <lightning-button label="Delete" onclick={deleteRecord} variant="destructive"></lightning-button>
        </lightning-button-group>
        <!-- Task List -->
        <template if:false={hasNoTask}>
            <lightning-datatable
                key-field="Id"
                data={tasks.data}
                columns={columns}>
            </lightning-datatable>
        </template>

        <!-- Message for No Tasks -->
        <template if:true={hasNoTask}>
            <p>No tasks found. Please add a new task.</p>
        </template>
    
        <!-- New Task Form -->
        <template if:true={showForm}>
            <lightning-flow flow-api-name='Task_Creation' onstatuschange={handleStatusChange}>
             </lightning-flow>
        </template>

        <!-- Error Message -->
        <!-- <template if:true={error}>
            <p class="slds-text-color_error">{error}</p>
        </template> -->
    </lightning-card>
</template>
